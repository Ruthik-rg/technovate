<!DOCTYPE html>
<html>
<head>
  <title>Create Test Users</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
    import {
      getAuth,
      createUserWithEmailAndPassword
    } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";
    import {
      getFirestore,
      doc,
      setDoc
    } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js";

    // Your Firebase config here:
    const firebaseConfig = {
  apiKey: "AIzaSyBJxu8_c-KANJei_O0Fl0bqAQOW821K_as",
  authDomain: "club-connect-da1e5.firebaseapp.com",
  projectId: "club-connect-da1e5",
  storageBucket: "club-connect-da1e5.firebasestorage.app",
  messagingSenderId: "563973308558",
  appId: "1:563973308558:web:f4364320517c808ddb49df",
  measurementId: "G-W7GRQT4501"
};

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const users = [
      { email: "admin@clubvibe.com", password: "admin123", role: "admin" },
      { email: "21cs101@kmce.edu", password: "student101", role: "user" },
      { email: "21ec034@kmce.edu", password: "student234", role: "user" },
      { email: "21me015@kmce.edu", password: "student202", role: "user" }
    ];

    async function createUsers() {
      for (let user of users) {
        try {
          const userCred = await createUserWithEmailAndPassword(auth, user.email, user.password);
          await setDoc(doc(db, "users", userCred.user.uid), {
            email: user.email,
            role: user.role,
            joinedClubs: []
          });
          console.log("Created:", user.email);
        } catch (err) {
          console.error("Error creating user:", user.email, err.message);
        }
      }
      alert("User creation done. Check console for status.");
    }

    window.onload = () => {
      createUsers();
    };
  </script>
</head>
<body>
  <h2>Creating Usersâ€¦</h2>
  <p>Open console (F12) to view status</p>
</body>
</html>
